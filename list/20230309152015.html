<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql|备份|windows平台 | FRUNOOB</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script async="true" src="/assets/js/baidu.js"></script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-Y9MDRGHCQJ"></script>
    <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-Y9MDRGHCQJ');</script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png?v=1.0.0">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png?v=1.0.0">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png?v=1.0.0">
    <link rel="manifest" href="/assets/img/site.webmanifest?v=1.0.0">
    <link rel="mask-icon" href="/assets/img/safari-pinned-tab.svg?v=1.0.0" color="#5bbad5">
    <link rel="shortcut icon" href="/assets/img/favicon.ico?v=1.0.0">
    <script src="/assets/prism.js"></script>
    <link rel="stylesheet" href="/assets/prism.css">
    <meta name="description" content="fqq's blog">
    <meta name="theme-color" content="#fffff8">
    <meta name="apple-mobile-web-app-title" content="F的博客">
    <meta name="application-name" content="F的博客">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="msapplication-config" content="/assets/img/browserconfig.xml?v=1.0.0">
    <link rel="preload" href="/assets/css/0.styles.0a18b52a.css" as="style"><link rel="preload" href="/assets/js/app.1a42dbbb.js" as="script"><link rel="preload" href="/assets/js/3.e5098637.js" as="script"><link rel="preload" href="/assets/js/4.883d95e5.js" as="script"><link rel="preload" href="/assets/js/10.d82c388f.js" as="script"><link rel="preload" href="/assets/js/332.6eecaadc.js" as="script"><link rel="preload" href="/assets/js/13.a04979f5.js" as="script"><link rel="prefetch" href="/assets/js/100.527605bf.js"><link rel="prefetch" href="/assets/js/101.a4c11f15.js"><link rel="prefetch" href="/assets/js/102.25c10c13.js"><link rel="prefetch" href="/assets/js/103.d943c91a.js"><link rel="prefetch" href="/assets/js/104.9a1fbdbf.js"><link rel="prefetch" href="/assets/js/105.1c445fbd.js"><link rel="prefetch" href="/assets/js/106.a8857ccf.js"><link rel="prefetch" href="/assets/js/107.99ce3bde.js"><link rel="prefetch" href="/assets/js/108.77011625.js"><link rel="prefetch" href="/assets/js/109.e67e24db.js"><link rel="prefetch" href="/assets/js/11.a8cbe0e5.js"><link rel="prefetch" href="/assets/js/110.80393271.js"><link rel="prefetch" href="/assets/js/111.1d2678be.js"><link rel="prefetch" href="/assets/js/112.0f17abd1.js"><link rel="prefetch" href="/assets/js/113.0b0d9279.js"><link rel="prefetch" href="/assets/js/114.41878444.js"><link rel="prefetch" href="/assets/js/115.cf28200a.js"><link rel="prefetch" href="/assets/js/116.bfc9b29d.js"><link rel="prefetch" href="/assets/js/117.16a09af7.js"><link rel="prefetch" href="/assets/js/118.e65361d5.js"><link rel="prefetch" href="/assets/js/119.5240f5c8.js"><link rel="prefetch" href="/assets/js/12.72ae6f58.js"><link rel="prefetch" href="/assets/js/120.ccf874ee.js"><link rel="prefetch" href="/assets/js/121.3ead5f2c.js"><link rel="prefetch" href="/assets/js/122.b7da2278.js"><link rel="prefetch" href="/assets/js/123.8213b336.js"><link rel="prefetch" href="/assets/js/124.1493babf.js"><link rel="prefetch" href="/assets/js/125.f15d68b0.js"><link rel="prefetch" href="/assets/js/126.ada9b6a6.js"><link rel="prefetch" href="/assets/js/127.8ffc7ddf.js"><link rel="prefetch" href="/assets/js/128.38cfa969.js"><link rel="prefetch" href="/assets/js/129.dfd3a76f.js"><link rel="prefetch" href="/assets/js/130.05d5ae24.js"><link rel="prefetch" href="/assets/js/131.b7e3630b.js"><link rel="prefetch" href="/assets/js/132.86cf2663.js"><link rel="prefetch" href="/assets/js/133.52f95c9e.js"><link rel="prefetch" href="/assets/js/134.9edc897d.js"><link rel="prefetch" href="/assets/js/135.2f748622.js"><link rel="prefetch" href="/assets/js/136.c24cbe3f.js"><link rel="prefetch" href="/assets/js/137.ee5b82b1.js"><link rel="prefetch" href="/assets/js/138.46dad600.js"><link rel="prefetch" href="/assets/js/139.ddec7433.js"><link rel="prefetch" href="/assets/js/14.408b59ba.js"><link rel="prefetch" href="/assets/js/140.a4c025ed.js"><link rel="prefetch" href="/assets/js/141.d4c4d859.js"><link rel="prefetch" href="/assets/js/142.e2daf903.js"><link rel="prefetch" href="/assets/js/143.9f26b9f1.js"><link rel="prefetch" href="/assets/js/144.0433b2fb.js"><link rel="prefetch" href="/assets/js/145.db344062.js"><link rel="prefetch" href="/assets/js/146.3bab1bf8.js"><link rel="prefetch" href="/assets/js/147.fddb1fed.js"><link rel="prefetch" href="/assets/js/148.4088eefc.js"><link rel="prefetch" href="/assets/js/149.49b4b9ce.js"><link rel="prefetch" href="/assets/js/15.afa3981d.js"><link rel="prefetch" href="/assets/js/150.e570151f.js"><link rel="prefetch" href="/assets/js/151.a3ebab53.js"><link rel="prefetch" href="/assets/js/152.8c2aeeeb.js"><link rel="prefetch" href="/assets/js/153.6da4cd4a.js"><link rel="prefetch" href="/assets/js/154.856f60be.js"><link rel="prefetch" href="/assets/js/155.e7aaa79b.js"><link rel="prefetch" href="/assets/js/156.e54513a9.js"><link rel="prefetch" href="/assets/js/157.2e285076.js"><link rel="prefetch" href="/assets/js/158.054dc53a.js"><link rel="prefetch" href="/assets/js/159.d5fc7e3d.js"><link rel="prefetch" href="/assets/js/16.4fcf48e0.js"><link rel="prefetch" href="/assets/js/160.f0e72c6b.js"><link rel="prefetch" href="/assets/js/161.0e0d41bd.js"><link rel="prefetch" href="/assets/js/162.9b61990f.js"><link rel="prefetch" href="/assets/js/163.f644a167.js"><link rel="prefetch" href="/assets/js/164.4bd445ec.js"><link rel="prefetch" href="/assets/js/165.13f35c4a.js"><link rel="prefetch" href="/assets/js/166.12d155ab.js"><link rel="prefetch" href="/assets/js/167.3a845679.js"><link rel="prefetch" href="/assets/js/168.67527f1a.js"><link rel="prefetch" href="/assets/js/169.3d67d8cc.js"><link rel="prefetch" href="/assets/js/17.e042760c.js"><link rel="prefetch" href="/assets/js/170.b15a992f.js"><link rel="prefetch" href="/assets/js/171.db2eab74.js"><link rel="prefetch" href="/assets/js/172.8e8cc003.js"><link rel="prefetch" href="/assets/js/173.82ef74f4.js"><link rel="prefetch" href="/assets/js/174.7d318bc6.js"><link rel="prefetch" href="/assets/js/175.eaf82068.js"><link rel="prefetch" href="/assets/js/176.ac64ed59.js"><link rel="prefetch" href="/assets/js/177.50df63fe.js"><link rel="prefetch" href="/assets/js/178.052a4116.js"><link rel="prefetch" href="/assets/js/179.61df363b.js"><link rel="prefetch" href="/assets/js/18.a97bf76e.js"><link rel="prefetch" href="/assets/js/180.21783537.js"><link rel="prefetch" href="/assets/js/181.cea6c133.js"><link rel="prefetch" href="/assets/js/182.3e7a31db.js"><link rel="prefetch" href="/assets/js/183.10a77067.js"><link rel="prefetch" href="/assets/js/184.be020d83.js"><link rel="prefetch" href="/assets/js/185.5d58eea7.js"><link rel="prefetch" href="/assets/js/186.2a493daa.js"><link rel="prefetch" href="/assets/js/187.f238d88f.js"><link rel="prefetch" href="/assets/js/188.0c5e75dd.js"><link rel="prefetch" href="/assets/js/189.b166e561.js"><link rel="prefetch" href="/assets/js/19.e3497b0a.js"><link rel="prefetch" href="/assets/js/190.71fcb7a4.js"><link rel="prefetch" href="/assets/js/191.30470e8c.js"><link rel="prefetch" href="/assets/js/192.9c4e970e.js"><link rel="prefetch" href="/assets/js/193.4a5ec4a9.js"><link rel="prefetch" href="/assets/js/194.d40c259b.js"><link rel="prefetch" href="/assets/js/195.e474e2d8.js"><link rel="prefetch" href="/assets/js/196.c30933d6.js"><link rel="prefetch" href="/assets/js/197.66c79a89.js"><link rel="prefetch" href="/assets/js/198.eccec170.js"><link rel="prefetch" href="/assets/js/199.653eed8e.js"><link rel="prefetch" href="/assets/js/2.2110e376.js"><link rel="prefetch" href="/assets/js/20.48c9d80a.js"><link rel="prefetch" href="/assets/js/200.be736308.js"><link rel="prefetch" href="/assets/js/201.b2d0185d.js"><link rel="prefetch" href="/assets/js/202.c5db3079.js"><link rel="prefetch" href="/assets/js/203.40f2c206.js"><link rel="prefetch" href="/assets/js/204.5c81ed39.js"><link rel="prefetch" href="/assets/js/205.d4152a50.js"><link rel="prefetch" href="/assets/js/206.3fd999de.js"><link rel="prefetch" href="/assets/js/207.67fb9f79.js"><link rel="prefetch" href="/assets/js/208.8e269815.js"><link rel="prefetch" href="/assets/js/209.c0aefcc7.js"><link rel="prefetch" href="/assets/js/21.8dfa4c32.js"><link rel="prefetch" href="/assets/js/210.f5c6d943.js"><link rel="prefetch" href="/assets/js/211.d524dca1.js"><link rel="prefetch" href="/assets/js/212.1fb5479a.js"><link rel="prefetch" href="/assets/js/213.b380d14e.js"><link rel="prefetch" href="/assets/js/214.c2495656.js"><link rel="prefetch" href="/assets/js/215.26f0e7ce.js"><link rel="prefetch" href="/assets/js/216.58c88db6.js"><link rel="prefetch" href="/assets/js/217.4119e782.js"><link rel="prefetch" href="/assets/js/218.31ad35b8.js"><link rel="prefetch" href="/assets/js/219.e3bde8db.js"><link rel="prefetch" href="/assets/js/22.f1db59ea.js"><link rel="prefetch" href="/assets/js/220.21048c05.js"><link rel="prefetch" href="/assets/js/221.f7e59e2c.js"><link rel="prefetch" href="/assets/js/222.3b7566d7.js"><link rel="prefetch" href="/assets/js/223.c4e26186.js"><link rel="prefetch" href="/assets/js/224.7cf43a32.js"><link rel="prefetch" href="/assets/js/225.8dfb3696.js"><link rel="prefetch" href="/assets/js/226.e29ea0c6.js"><link rel="prefetch" href="/assets/js/227.29352f71.js"><link rel="prefetch" href="/assets/js/228.f6efc230.js"><link rel="prefetch" href="/assets/js/229.12c719ad.js"><link rel="prefetch" href="/assets/js/23.00dd3bc0.js"><link rel="prefetch" href="/assets/js/230.c7482111.js"><link rel="prefetch" href="/assets/js/231.147cbef7.js"><link rel="prefetch" href="/assets/js/232.3bc2d145.js"><link rel="prefetch" href="/assets/js/233.40e9d0ae.js"><link rel="prefetch" href="/assets/js/234.e926493c.js"><link rel="prefetch" href="/assets/js/235.99b72103.js"><link rel="prefetch" href="/assets/js/236.38f6388a.js"><link rel="prefetch" href="/assets/js/237.9d0980e6.js"><link rel="prefetch" href="/assets/js/238.55469f8e.js"><link rel="prefetch" href="/assets/js/239.bf10f5a5.js"><link rel="prefetch" href="/assets/js/24.b50080ff.js"><link rel="prefetch" href="/assets/js/240.7636b8e0.js"><link rel="prefetch" href="/assets/js/241.a433c14f.js"><link rel="prefetch" href="/assets/js/242.55f52e92.js"><link rel="prefetch" href="/assets/js/243.210b53fd.js"><link rel="prefetch" href="/assets/js/244.cb027adb.js"><link rel="prefetch" href="/assets/js/245.587aba05.js"><link rel="prefetch" href="/assets/js/246.f811ea8c.js"><link rel="prefetch" href="/assets/js/247.a13f1604.js"><link rel="prefetch" href="/assets/js/248.f4e8b2fa.js"><link rel="prefetch" href="/assets/js/249.d0f20099.js"><link rel="prefetch" href="/assets/js/25.d55d9439.js"><link rel="prefetch" href="/assets/js/250.c2f9f7c7.js"><link rel="prefetch" href="/assets/js/251.8ddba045.js"><link rel="prefetch" href="/assets/js/252.e86559aa.js"><link rel="prefetch" href="/assets/js/253.defd7134.js"><link rel="prefetch" href="/assets/js/254.11c5c48b.js"><link rel="prefetch" href="/assets/js/255.bab575c6.js"><link rel="prefetch" href="/assets/js/256.bc61799c.js"><link rel="prefetch" href="/assets/js/257.94943b46.js"><link rel="prefetch" href="/assets/js/258.02449673.js"><link rel="prefetch" href="/assets/js/259.ab8546be.js"><link rel="prefetch" href="/assets/js/26.8e647f7e.js"><link rel="prefetch" href="/assets/js/260.b91e866e.js"><link rel="prefetch" href="/assets/js/261.4543130f.js"><link rel="prefetch" href="/assets/js/262.15c10fa4.js"><link rel="prefetch" href="/assets/js/263.603cbeb3.js"><link rel="prefetch" href="/assets/js/264.f0b4048d.js"><link rel="prefetch" href="/assets/js/265.4847b907.js"><link rel="prefetch" href="/assets/js/266.c7160bc9.js"><link rel="prefetch" href="/assets/js/267.41c130c3.js"><link rel="prefetch" href="/assets/js/268.5cbc1489.js"><link rel="prefetch" href="/assets/js/269.a8d2a067.js"><link rel="prefetch" href="/assets/js/27.683d768e.js"><link rel="prefetch" href="/assets/js/270.b686066f.js"><link rel="prefetch" href="/assets/js/271.edb96bd3.js"><link rel="prefetch" href="/assets/js/272.409a2034.js"><link rel="prefetch" href="/assets/js/273.2fe9a0b2.js"><link rel="prefetch" href="/assets/js/274.8408e7f5.js"><link rel="prefetch" href="/assets/js/275.ed3463ab.js"><link rel="prefetch" href="/assets/js/276.a01101d1.js"><link rel="prefetch" href="/assets/js/277.20df1685.js"><link rel="prefetch" href="/assets/js/278.27ed2825.js"><link rel="prefetch" href="/assets/js/279.75b50d4e.js"><link rel="prefetch" href="/assets/js/28.0a08796d.js"><link rel="prefetch" href="/assets/js/280.245457ba.js"><link rel="prefetch" href="/assets/js/281.d2c4d65d.js"><link rel="prefetch" href="/assets/js/282.1f7e6a4e.js"><link rel="prefetch" href="/assets/js/283.7049c388.js"><link rel="prefetch" href="/assets/js/284.250300a0.js"><link rel="prefetch" href="/assets/js/285.d3e1d606.js"><link rel="prefetch" href="/assets/js/286.c6d28902.js"><link rel="prefetch" href="/assets/js/287.a0828bc7.js"><link rel="prefetch" href="/assets/js/288.d150457c.js"><link rel="prefetch" href="/assets/js/289.10159c3d.js"><link rel="prefetch" href="/assets/js/29.cf71f08c.js"><link rel="prefetch" href="/assets/js/290.49d462c7.js"><link rel="prefetch" href="/assets/js/291.738cd500.js"><link rel="prefetch" href="/assets/js/292.d739b65e.js"><link rel="prefetch" href="/assets/js/293.8881380f.js"><link rel="prefetch" href="/assets/js/294.97cb9a4a.js"><link rel="prefetch" href="/assets/js/295.ba748143.js"><link rel="prefetch" href="/assets/js/296.d9e09b41.js"><link rel="prefetch" href="/assets/js/297.d794deaf.js"><link rel="prefetch" href="/assets/js/298.9c02493c.js"><link rel="prefetch" href="/assets/js/299.f4726eca.js"><link rel="prefetch" href="/assets/js/30.2cfe420a.js"><link rel="prefetch" href="/assets/js/300.5d148010.js"><link rel="prefetch" href="/assets/js/301.2dcda17d.js"><link rel="prefetch" href="/assets/js/302.5288d020.js"><link rel="prefetch" href="/assets/js/303.f1033165.js"><link rel="prefetch" href="/assets/js/304.09854b5f.js"><link rel="prefetch" href="/assets/js/305.b4d937b5.js"><link rel="prefetch" href="/assets/js/306.1331bca9.js"><link rel="prefetch" href="/assets/js/307.402015ee.js"><link rel="prefetch" href="/assets/js/308.be0a3bce.js"><link rel="prefetch" href="/assets/js/309.df8cf02a.js"><link rel="prefetch" href="/assets/js/31.2aab9a4b.js"><link rel="prefetch" href="/assets/js/310.92f2f718.js"><link rel="prefetch" href="/assets/js/311.72be8e96.js"><link rel="prefetch" href="/assets/js/312.0ea5af74.js"><link rel="prefetch" href="/assets/js/313.7da02bec.js"><link rel="prefetch" href="/assets/js/314.53256814.js"><link rel="prefetch" href="/assets/js/315.5454d911.js"><link rel="prefetch" href="/assets/js/316.eea17da7.js"><link rel="prefetch" href="/assets/js/317.bbb1f925.js"><link rel="prefetch" href="/assets/js/318.0a97935b.js"><link rel="prefetch" href="/assets/js/319.9d17da5c.js"><link rel="prefetch" href="/assets/js/32.6a245415.js"><link rel="prefetch" href="/assets/js/320.b29f6a32.js"><link rel="prefetch" href="/assets/js/321.3b64c5da.js"><link rel="prefetch" href="/assets/js/322.99a9fc8c.js"><link rel="prefetch" href="/assets/js/323.77ecd1e1.js"><link rel="prefetch" href="/assets/js/324.70b6c71a.js"><link rel="prefetch" href="/assets/js/325.b3a300d5.js"><link rel="prefetch" href="/assets/js/326.dddadc1e.js"><link rel="prefetch" href="/assets/js/327.d9171fc6.js"><link rel="prefetch" href="/assets/js/328.68b517fc.js"><link rel="prefetch" href="/assets/js/329.0830ea53.js"><link rel="prefetch" href="/assets/js/33.f64afbf0.js"><link rel="prefetch" href="/assets/js/330.d0d812ff.js"><link rel="prefetch" href="/assets/js/331.e1fb214d.js"><link rel="prefetch" href="/assets/js/333.7b806e3f.js"><link rel="prefetch" href="/assets/js/334.b2579fef.js"><link rel="prefetch" href="/assets/js/335.f0c66b56.js"><link rel="prefetch" href="/assets/js/336.06f28e2d.js"><link rel="prefetch" href="/assets/js/337.653203f9.js"><link rel="prefetch" href="/assets/js/338.a14de975.js"><link rel="prefetch" href="/assets/js/339.2fc58ef1.js"><link rel="prefetch" href="/assets/js/34.d55acd0c.js"><link rel="prefetch" href="/assets/js/340.04d663f6.js"><link rel="prefetch" href="/assets/js/341.c26a3d30.js"><link rel="prefetch" href="/assets/js/342.373b12fa.js"><link rel="prefetch" href="/assets/js/343.f86521cf.js"><link rel="prefetch" href="/assets/js/344.ad32af21.js"><link rel="prefetch" href="/assets/js/345.f37a97e2.js"><link rel="prefetch" href="/assets/js/346.0d922634.js"><link rel="prefetch" href="/assets/js/347.e150b959.js"><link rel="prefetch" href="/assets/js/348.685662e0.js"><link rel="prefetch" href="/assets/js/349.b0af87ba.js"><link rel="prefetch" href="/assets/js/35.533f23fe.js"><link rel="prefetch" href="/assets/js/350.9e00ec89.js"><link rel="prefetch" href="/assets/js/351.cea17eaa.js"><link rel="prefetch" href="/assets/js/352.1fb392ca.js"><link rel="prefetch" href="/assets/js/353.dd1f7fc9.js"><link rel="prefetch" href="/assets/js/354.a5c46229.js"><link rel="prefetch" href="/assets/js/355.edeb3d4c.js"><link rel="prefetch" href="/assets/js/356.f0a0ed65.js"><link rel="prefetch" href="/assets/js/357.73fe7293.js"><link rel="prefetch" href="/assets/js/358.789c2685.js"><link rel="prefetch" href="/assets/js/359.03f8f645.js"><link rel="prefetch" href="/assets/js/36.1dc62a56.js"><link rel="prefetch" href="/assets/js/37.13f401b6.js"><link rel="prefetch" href="/assets/js/38.8eb8be50.js"><link rel="prefetch" href="/assets/js/39.447e816e.js"><link rel="prefetch" href="/assets/js/40.9c3a38c0.js"><link rel="prefetch" href="/assets/js/41.d3bce539.js"><link rel="prefetch" href="/assets/js/42.64d4c98d.js"><link rel="prefetch" href="/assets/js/43.146ca161.js"><link rel="prefetch" href="/assets/js/44.c4a9079a.js"><link rel="prefetch" href="/assets/js/45.15a3f668.js"><link rel="prefetch" href="/assets/js/46.8b1435c0.js"><link rel="prefetch" href="/assets/js/47.26bf0b09.js"><link rel="prefetch" href="/assets/js/48.6895c10c.js"><link rel="prefetch" href="/assets/js/49.b5ff70ca.js"><link rel="prefetch" href="/assets/js/5.1ff7795f.js"><link rel="prefetch" href="/assets/js/50.3094ec51.js"><link rel="prefetch" href="/assets/js/51.47962e60.js"><link rel="prefetch" href="/assets/js/52.501394e6.js"><link rel="prefetch" href="/assets/js/53.e29b498d.js"><link rel="prefetch" href="/assets/js/54.4ae2d12b.js"><link rel="prefetch" href="/assets/js/55.8503352a.js"><link rel="prefetch" href="/assets/js/56.f0228d5a.js"><link rel="prefetch" href="/assets/js/57.71c513e4.js"><link rel="prefetch" href="/assets/js/58.13008757.js"><link rel="prefetch" href="/assets/js/59.c5bb7d32.js"><link rel="prefetch" href="/assets/js/6.acaf0aac.js"><link rel="prefetch" href="/assets/js/60.ff0da2b9.js"><link rel="prefetch" href="/assets/js/61.55139c73.js"><link rel="prefetch" href="/assets/js/62.fbfce35d.js"><link rel="prefetch" href="/assets/js/63.c535e458.js"><link rel="prefetch" href="/assets/js/64.334b46ab.js"><link rel="prefetch" href="/assets/js/65.22e71163.js"><link rel="prefetch" href="/assets/js/66.a7954340.js"><link rel="prefetch" href="/assets/js/67.4aa3549d.js"><link rel="prefetch" href="/assets/js/68.6a819526.js"><link rel="prefetch" href="/assets/js/69.177ae2f1.js"><link rel="prefetch" href="/assets/js/7.1dfe23e8.js"><link rel="prefetch" href="/assets/js/70.51c6f438.js"><link rel="prefetch" href="/assets/js/71.f16d135d.js"><link rel="prefetch" href="/assets/js/72.9defdff9.js"><link rel="prefetch" href="/assets/js/73.5177c139.js"><link rel="prefetch" href="/assets/js/74.2c90dce4.js"><link rel="prefetch" href="/assets/js/75.698963aa.js"><link rel="prefetch" href="/assets/js/76.3ef7f5d8.js"><link rel="prefetch" href="/assets/js/77.7bafabb8.js"><link rel="prefetch" href="/assets/js/78.c4e04bc0.js"><link rel="prefetch" href="/assets/js/79.9ee5f26e.js"><link rel="prefetch" href="/assets/js/8.59aa2f01.js"><link rel="prefetch" href="/assets/js/80.49c07653.js"><link rel="prefetch" href="/assets/js/81.60bebad3.js"><link rel="prefetch" href="/assets/js/82.ff6ecbf9.js"><link rel="prefetch" href="/assets/js/83.d727467d.js"><link rel="prefetch" href="/assets/js/84.d207fea2.js"><link rel="prefetch" href="/assets/js/85.4a0a5ccc.js"><link rel="prefetch" href="/assets/js/86.e3ae79bf.js"><link rel="prefetch" href="/assets/js/87.ee65e8a3.js"><link rel="prefetch" href="/assets/js/88.eb5dec6f.js"><link rel="prefetch" href="/assets/js/89.e98db8c5.js"><link rel="prefetch" href="/assets/js/9.6bb81fe9.js"><link rel="prefetch" href="/assets/js/90.d36ec6c1.js"><link rel="prefetch" href="/assets/js/91.27f4a095.js"><link rel="prefetch" href="/assets/js/92.bcd1a426.js"><link rel="prefetch" href="/assets/js/93.e65e6ac7.js"><link rel="prefetch" href="/assets/js/94.2dc98773.js"><link rel="prefetch" href="/assets/js/95.adabe005.js"><link rel="prefetch" href="/assets/js/96.16d93dfe.js"><link rel="prefetch" href="/assets/js/97.9a1f2bf7.js"><link rel="prefetch" href="/assets/js/98.803df33a.js"><link rel="prefetch" href="/assets/js/99.1a8f8967.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0a18b52a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="body" data-v-5f525be0><header data-v-5f525be0><div data-v-5f525be0><div data-v-3a7ecdf9 data-v-5f525be0><header class="head" data-v-3a7ecdf9><div id="left-head" data-v-3a7ecdf9><a href="/" class="router-link-active" data-v-3a7ecdf9>Prioritize. Save time. Stay focused. </a></div> <div class="search" data-v-3a7ecdf9><div class="search-box" data-v-3a7ecdf9><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header></div></div> <div data-v-5f525be0><div data-v-63f17bab data-v-5f525be0><hr class="separator" data-v-63f17bab></div></div></header> <div data-v-5f525be0><div class="bottom" data-v-5f525be0><div class="bright" data-v-5f525be0></div> <div class="bleft" data-v-5f525be0><a href="https://frunoob.jetbrains.space/p/main/repositories/journal/edit/journal/list/20230309152015.md?from-persistence=true" target="_blank" class="edit" data-v-5f525be0>✏️修改此页面</a></div></div></div> <div data-v-5f525be0><div class="content content__default" data-v-5f525be0><h1 id="mysql-备份-windows平台"><a href="#mysql-备份-windows平台" class="header-anchor">#</a> mysql|备份|windows平台</h1> <h2 id="mysql自动备份到远程服务器-冷备份"><a href="#mysql自动备份到远程服务器-冷备份" class="header-anchor">#</a> mysql自动备份到远程服务器|冷备份</h2> <p>先备份到本地服务器</p> <div class="language- extra-class"><pre class="language-text"><code>@echo off
@chcp 936
set NAMES=utf8
set hour=%time:~0,2%
if &quot;%time:~0,1%&quot;==&quot; &quot; set hour=0%time:~1,1%
set now=%date:~0,4%%date:~5,2%%date:~8,2%%hour%%time:~3,2%%time:~6,2%
if &quot;%1&quot;==&quot;&quot; echo &quot;please input database name, using comman like  (mysqlbackup.cmd &lt;database&gt;)&quot; 
if &quot;%1&quot;==&quot;&quot; goto:EOF
set database=%1
set outFileName=%database%_%now%.sql
mysqldump -q -u root --password=root  -r D:\auto_backup\mysql\%outFileName%  %database%
</code></pre></div><p>通过工具openssh使用SSH协议安全传输文件</p> <p>工具下载网址 https://github.com/PowerShell/Win32-OpenSSH</p> <p>安装工具之后会在计算机的防火墙中添加一个规则， <code>OpenSSH-Server-In-TCP</code>,此规则将允许放开端口22.</p> <p>需要开放端口 配置ssh密钥  对于ssh服务器端有window版本限制 操作过于繁琐 考虑到一般在局域网中进行备份所以改用ftp协议作为文件传输的的新方式</p> <p>ftp是window自带的功能，直接在window功能中添加即可
在window下创建ftp服务器教程  https://zhuanlan.zhihu.com/p/411646279</p> <div class="language- extra-class"><pre class="language-text"><code>@echo off
@chcp 936
@rem backup  destination
set ftpip=192.168.8.84
set ftp_name=ftpuser
set ftp_pwd=ftpuser
set ftp_path=.\auto_backup\mysql\
set ftp_local_dir=D:\auto_backup\mysql\
set NAMES=utf8
set hour=%time:~0,2%
if &quot;%time:~0,1%&quot;==&quot; &quot; set hour=0%time:~1,1%
set now=%date:~0,4%%date:~5,2%%date:~8,2%%hour%%time:~3,2%%time:~6,2%
if &quot;%1&quot;==&quot;&quot; echo &quot;please input database name, using comman like  (mysqlbackup.cmd &lt;database&gt;)&quot; 
if &quot;%1&quot;==&quot;&quot; goto:EOF
set database=%1
set outFileName=%database%_%now%.sql
mysqldump -q -u root --password=root  -r %ftp_local_dir%%outFileName%  %database%
echo open %ftpip% &gt;ftp.up
echo %ftp_name%&gt;&gt;ftp.up
echo %ftp_pwd%&gt;&gt;ftp.up
echo cd %ftp_path% &gt;&gt; ftp.up
echo binary&gt;&gt;ftp.up
echo mput %ftp_local_dir%%database%*.sql &gt;&gt;ftp.up
echo bye&gt;&gt;ftp.up
ftp -s:ftp.up
del ftp.up /q
@rem pause
</code></pre></div><p>备份文件的管理，自动清理多余备份</p> <p>!n! 和setlocal enabledelayedexpansion搭配使用，批处理命令按行处理，最先进行的是变量的赋值，即将%x%替换成明确的值，然后在执行语句</p> <div class="language- extra-class"><pre class="language-text"><code>pushd %ftp_local_dir%
setlocal enabledelayedexpansion
set n=0
for /f &quot;delims=&quot; %%a in ('dir /a-d-h /b /o-d %database%*.sql') do (
if !n! geq 7  del &quot;%%~a&quot;
set /a n+=1 
)
popd
</code></pre></div><p>最终完整版本</p> <div class="language- extra-class"><pre class="language-text"><code>@echo off
@chcp 936
@rem backup  destination
set ftpip=192.168.8.84
set ftp_name=ftpuser
set ftp_pwd=ftpuser
set ftp_path=.\auto_backup\mysql\
set ftp_local_dir=D:\auto_backup\mysql\
set NAMES=utf8
set hour=%time:~0,2%
if &quot;%time:~0,1%&quot;==&quot; &quot; set hour=0%time:~1,1%
set now=%date:~0,4%%date:~5,2%%date:~8,2%%hour%%time:~3,2%%time:~6,2%
if &quot;%1&quot;==&quot;&quot; echo &quot;please input database name, using comman like  (mysqlbackup.cmd &lt;database&gt;)&quot; 
if &quot;%1&quot;==&quot;&quot; goto:EOF
set database=%1
set outFileName=%database%_%now%.sql
mysqldump -q -u root --password=root  -r %ftp_local_dir%%outFileName%  %database%
pushd %ftp_local_dir%
setlocal enabledelayedexpansion
set n=0
for /f &quot;delims=&quot; %%a in ('dir /a-d-h /b /o-d %database%*.sql') do (
if !n! geq 7  del &quot;%%~a&quot;
set /a n+=1 
)
popd
echo open %ftpip% &gt;ftp.up
echo %ftp_name%&gt;&gt;ftp.up
echo %ftp_pwd%&gt;&gt;ftp.up
echo cd %ftp_path% &gt;&gt; ftp.up
echo prompt yes &gt;&gt; ftp.up
echo mdelete  %database%*.sql &gt;&gt; ftp.up
echo binary&gt;&gt;ftp.up
echo mput %ftp_local_dir%%database%*.sql &gt;&gt;ftp.up
echo bye&gt;&gt;ftp.up
ftp -s:ftp.up
del ftp.up /q
pause
</code></pre></div><p>后记，windowftp服务器搭建以及计划任务程序注意事项</p> <p>添加Ftp功能: 启用或关闭windows功能-internet information services-FTP服务器 + web管理工具
添加用户: windows管理工具-计算机管理-本地用户和组-用户（右击-新用户）：用户名ftpuser 密码： ftpuser 仅勾选用户不能更改密码和密码永不过期 其余不要勾选
建站： 管理工具-Internet Information Services (IIS)管理器
网站（右击）：添加ftp服务器-规定物理路径 (随意)</p> <p>数据库所在服务器要手动创建文件夹D:\auto_backup\mysql\</p> <p>计划任务  taskschd.msc</p> <p>服务  service.msc</p> <p>计算机管理  compmgmt.msc</p> <h2 id="热备份-xtrabackup-wsl-linux-window子系统"><a href="#热备份-xtrabackup-wsl-linux-window子系统" class="header-anchor">#</a> 热备份|xtrabackup|wsl|linux|window子系统</h2> <div class="custom-block tip"><p class="custom-block-title">参考自</p> <p><a href="https://www.percona.com/blog/percona-xtrabackup-for-windows/" target="_blank" rel="noopener noreferrer">Percona XtraBackup for Windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://patg.net/mysql,windows/10,wsl,backups/2017/09/03/xtrabackup-wsl/" target="_blank" rel="noopener noreferrer">使用 WSL 在 Windows 上运行 XtraBackup<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.percona.com/percona-xtrabackup/2.4/backup_scenarios/incremental_backup.html#creating-an-incremental-backup" target="_blank" rel="noopener noreferrer">Incremental Backup<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://forums.percona.com/t/problem-with-running-xtrabackup-24-in-debian-with-wsl2/14252/14" target="_blank" rel="noopener noreferrer">Problem with running xtrabackup 24 in debian with WSL2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/qq_26614295/article/details/81502338" target="_blank" rel="noopener noreferrer">Linux修改open files数及ulimit和file-max的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p>生产环境无法进行完整备份，因为数据库24小时都在周期性高强度运行，备份严重影响了系统的稳定性。</p> <p>xtrabackup的优点：热备份 ，详细的看官网介绍吧</p> <p>本地测试，搭建环境</p> <div class="custom-block tip"><p class="custom-block-title">环境</p> <p>windows server 2019   version: 1809</p> <p>数据库 mysql 5.7.38</p></div> <ol><li>安装WSL（windows subsystem linux）,用于执行xtrabackup。</li></ol> <div class="custom-block tip"><p class="custom-block-title">参考教程</p> <p>由于window版本少于1904 所以只能使用旧版WSL的手动安装方法，无法安装WSL 2，所以参考以下教程</p> <p>https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-1---enable-the-windows-subsystem-for-linux</p></div> <div class="language-powershell extra-class"><pre class="language-powershell"><code>
<span class="token comment"># 启用WSL功能</span>
dism<span class="token punctuation">.</span>exe <span class="token operator">/</span>online <span class="token operator">/</span><span class="token function">enable-feature</span> <span class="token operator">/</span>featurename:Microsoft<span class="token operator">-</span>Windows<span class="token operator">-</span>Subsystem<span class="token operator">-</span>Linux <span class="token operator">/</span>all <span class="token operator">/</span>norestart
<span class="token comment"># 装所选的 Linux 分发</span>
curl<span class="token punctuation">.</span>exe <span class="token operator">-</span>L <span class="token operator">-</span>o ubuntu<span class="token operator">-</span>2004<span class="token punctuation">.</span>appx https:<span class="token operator">/</span><span class="token operator">/</span>aka<span class="token punctuation">.</span>ms<span class="token operator">/</span>wslubuntu2004
<span class="token comment"># 安装linux</span>
<span class="token function">Add-AppxPackage</span> <span class="token punctuation">.</span>\ubuntu<span class="token operator">-</span>2004<span class="token punctuation">.</span>appx
<span class="token comment"># 最后必须要手动点开开始菜单里刚安装上的ubuntu，等待它完成初始化之后，才能在powershell通过执行`bash`命令来随时随地进入linux系统</span>
<span class="token comment"># 但是如果是通过ssh连接的window，无法手动点击开始菜单里的应用，那么只能通过powershell来启动windows的内置应用了。</span>
<span class="token function">Get-Package</span> <span class="token comment">#该命令只能展示第三方应用</span>
<span class="token comment"># 因为ubuntu属于universal windows app（UWP），因为windows自身限制所以很难直接找到其安装目录，所以可以通过以下命令获取到全部的UWP应用信息</span>
<span class="token function">PS</span> C:\Users\fqq&gt; <span class="token function">Get-AppxPackage</span><span class="token punctuation">|</span> findstr<span class="token punctuation">.</span>exe <span class="token operator">/</span>n <span class="token string">&quot;Ubuntu&quot;</span>
507:Name              : CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows
512:PackageFullName   : CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_2004<span class="token punctuation">.</span>2021<span class="token punctuation">.</span>825<span class="token punctuation">.</span>0_x64__79rhkp1fndgsc
513:InstallLocation   : C:\Program Files\WindowsApps\CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_2004<span class="token punctuation">.</span>2021<span class="token punctuation">.</span>825<span class="token punctuation">.</span>0_x64__79rhkp1fndg
516:PackageFamilyName : CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_79rhkp1fndgsc
522:Dependencies      : <span class="token punctuation">{</span>CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_2004<span class="token punctuation">.</span>2021<span class="token punctuation">.</span>825<span class="token punctuation">.</span>0_neutral_split<span class="token punctuation">.</span>scale<span class="token operator">-</span>150_79rhkp1fndgsc<span class="token punctuation">,</span> Canon
523:                    icalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_2004<span class="token punctuation">.</span>2021<span class="token punctuation">.</span>825<span class="token punctuation">.</span>0_neutral_split<span class="token punctuation">.</span>scale<span class="token operator">-</span>100_79rhkp1fndgsc<span class="token punctuation">,</span> CanonicalGr
524:                    oupLimited<span class="token punctuation">.</span>UbuntuonWindows_2004<span class="token punctuation">.</span>2021<span class="token punctuation">.</span>825<span class="token punctuation">.</span>0_neutral_split<span class="token punctuation">.</span>scale<span class="token operator">-</span>125_79rhkp1fndgsc<span class="token punctuation">}</span>
<span class="token comment"># 通过以上命令可以得到ubuntu应用的name和PackageFamilyName，当然还有installLocation，但是该地址是无法访问的，紧接着，我们要启动它该如何做呢，通过简单的查找来直接启动</span>
explorer<span class="token punctuation">.</span>exe shell:appsFolder\&lt;PackageFamilyName&gt;<span class="token operator">!</span>ubuntu <span class="token comment"># 只需要把PackageFamilyName替换成你刚刚查询出来的即可</span>
explorer<span class="token punctuation">.</span>exe shell:appsFolder\CanonicalGroupLimited<span class="token punctuation">.</span>UbuntuonWindows_79rhkp1fndgsc<span class="token operator">!</span>ubuntu
</code></pre></div><h2 id="等一会之后-在命令行中执行bash即可进入ubuntu"><a href="#等一会之后-在命令行中执行bash即可进入ubuntu" class="header-anchor">#</a> 等一会之后，在命令行中执行bash即可进入ubuntu</h2> <h2 id="安装xtrabackup"><a href="#安装xtrabackup" class="header-anchor">#</a> 安装xtrabackup</h2> <div class="language- extra-class"><pre class="language-text"><code>apt-get update
apt-get install lsb
wget https://repo.percona.com/apt/percona-release_latest.$(lsb_release -sc)_all.deb
sudo dpkg -i percona-release_latest.$(lsb_release -sc)_all.deb
percona-release enable-only tools
apt-get update
apt install percona-xtrabackup-24
apt install qpress
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">怎么卸载？</p> <p><code>sudo apt remove percona-xtrabackup-24</code></p></div> <h2 id="进行全备份"><a href="#进行全备份" class="header-anchor">#</a> 进行全备份</h2> <p>创建一个配置文件，名为<code>my.ini</code>,放在windows的E:/jordanDatabaseBackup目录下，其挂载在linux子系统的<code>/mnt/e/jordanDatabaseBackup</code>目录上，即<code>E:/</code>=<code>/mnt/e/</code></p> <p>编辑文件，添加一下内容</p> <div class="language- extra-class"><pre class="language-text"><code>[mysqld]
datadir  =&quot;/mnt/e/BtSoft/mysql/MySQL5.7/data/&quot;
innodb_data_home_dir = &quot;/mnt/e/BtSoft/mysql/MySQL5.7/data/&quot;
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code> xtrabackup --defaults-file<span class="token operator">=</span>/mnt/e/jordanDatabaseBackup/my.ini   --backup  
 --password<span class="token operator">=</span>JMDFCunsUm2Kpvxc --user<span class="token operator">=</span>root --host<span class="token operator">=</span><span class="token number">192.168</span>.186.140 --port<span class="token operator">=</span><span class="token number">3306</span> 
 --target-dir<span class="token operator">=</span>/mnt/e/jordanDatabaseBackup/base 
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">'datadir'配置错误</p> <div class="language- extra-class"><pre class="language-text"><code>Warning: MySQL variable 'datadir' points to nonexistent directory 'E:\BtSoft\mysql\MySQL5.7\data\'
Warning: option 'datadir' has different values:
  '/mnt/e/BtSoft/mysql/MySQL5.7/data/' in defaults file
  'E:\BtSoft\mysql\MySQL5.7\data\' in SHOW VARIABLES
</code></pre></div><p>通过查询mysql5.7文档得知，<code>innodb_undo_directory</code>如果不设置的话，默认值是  数据文件夹下，即 服务器端配置文件<code>my.ini</code>的<code>datadir</code>参数。
The innodb_undo_directory variable defines the location of undo tablespace files. If the
innodb_undo_directory variable is undefined, undo tablespaces reside in the data directory.</p> <p>所以为了能让linux下找到该目录，我们需要在<code>/mnt/e/jordanDatabaseBackup/my.ini</code>中再增加一行</p> <div class="language- extra-class"><pre class="language-text"><code>[mysqld]
datadir  =&quot;/mnt/e/BtSoft/mysql/MySQL5.7/data/&quot;
innodb_data_home_dir = &quot;/mnt/e/BtSoft/mysql/MySQL5.7/data/&quot;
innodb_undo_directory = &quot;/mnt/e/BtSoft/mysql/MySQL5.7/data/&quot;
</code></pre></div></div> <div class="custom-block warning"><p class="custom-block-title">Too many open files</p> <p>1.修改file-max</p> <div class="language- extra-class"><pre class="language-text"><code># echo  6553560 &gt; /proc/sys/fs/file-max  //sysctl -w &quot;fs.file-max=34166&quot;，前面2种重启机器后会恢复为默认值
vim /etc/sysctl.conf, 加入以下内容，重启生效
fs.file-max = 6553560
</code></pre></div><p>2.修改ulimit的open file，系统默认的ulimit对文件打开数量的限制是1024</p> <div class="language- extra-class"><pre class="language-text"><code># ulimit -HSn 102400  //这只是在当前终端有效，退出之后，open files又变为默认值。当然也可以写到/etc/profile中，因为每次登录终端时，都会自动执行/etc/profile
或
# vim /etc/security/limits.conf  //加入以下配置，重启即可生效
* soft nofile 65535 
* hard nofile 65535
</code></pre></div></div> <h2 id="进行增量备份-必须有全备份才行"><a href="#进行增量备份-必须有全备份才行" class="header-anchor">#</a> 进行增量备份（必须有全备份才行）</h2> <div class="language- extra-class"><pre class="language-text"><code>xtrabackup --defaults-file=/mnt/e/jordanDatabaseBackup/my.ini   --backup   --parallel=4 --password=JMDFCunsUm2Kpvxc --user=root --host=192.168.186.140 --port=3306  --target-dir=/mnt/e/jordanDatabaseBackup/inc1  --incremental-basedir=/mnt/e/jordanDatabaseBackup/base
</code></pre></div><h2 id="为还原数据做准备"><a href="#为还原数据做准备" class="header-anchor">#</a> 为还原数据做准备</h2> <div class="language- extra-class"><pre class="language-text"><code># To prepare the base backup
xtrabackup --defaults-file=/mnt/e/jordanDatabaseBackup/my.ini --prepare  --apply-log-only --parallel=4 --password=JMDFCunsUm2Kpvxc --user=root --host=192.168.186.140 --port=3306 --target-dir=/mnt/e/jordanDatabaseBackup/base
# 将第一个增量备份应用到完整备份（如果是最后一个增量备份 就不需要使用--apply-log-only参数）
xtrabackup --defaults-file=/mnt/e/jordanDatabaseBackup/my.ini --prepare  --apply-log-only --parallel=4 --password=JMDFCunsUm2Kpvxc --user=root --host=192.168.186.140 --port=3306 --target-dir=/mnt/e/jordanDatabaseBackup/base --incremental-dir=/mnt/e/jordanDatabaseBackup/inc1
</code></pre></div><h2 id="开始还原备份"><a href="#开始还原备份" class="header-anchor">#</a> 开始还原备份</h2> <div class="custom-block danger"><p class="custom-block-title">开始前必须清空datadir</p> <p>要将 mysql的data目录清空，   <code>/path/to/mysql/data/</code>里面不能有东西</p></div> <div class="language- extra-class"><pre class="language-text"><code>xtrabackup --defaults-file=/mnt/e/jordanDatabaseBackup/my.ini  --copy-back --parallel=2 --password=JMDFCunsUm2Kpvxc --user=root --host=192.168.186.140 --port=3306 --target-dir=/mnt/e/jordanDatabaseBackup/base
</code></pre></div></div></div> <div class="bottom" data-v-5f525be0><div class="bright" data-v-5f525be0><a href="https://frunoob.jetbrains.space/p/main/repositories/journal/edit/journal/list/20230309152015.md?from-persistence=true" target="_blank" class="edit" data-v-5f525be0>✏️修改此页面</a></div></div> <div data-v-5f525be0><p class="footer" data-v-5f525be0>frunoob@qq.com</p></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1a42dbbb.js" defer></script><script src="/assets/js/3.e5098637.js" defer></script><script src="/assets/js/4.883d95e5.js" defer></script><script src="/assets/js/10.d82c388f.js" defer></script><script src="/assets/js/332.6eecaadc.js" defer></script><script src="/assets/js/13.a04979f5.js" defer></script>
  </body>
</html>
