(window.webpackJsonp=window.webpackJsonp||[]).push([[279],{483:function(t,n,e){"use strict";e.r(n);var r=e(5),o=Object(r.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"项目部署记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目部署记录"}},[t._v("#")]),t._v(" 项目部署记录")]),t._v(" "),e("p",[t._v("安装宝塔")]),t._v(" "),e("p",[t._v("安装 mysql5.7 nginx1.21 redis5.0 php5.4")]),t._v(" "),e("p",[t._v("修改redis配置文件中bind为0.0.0.0")]),t._v(" "),e("p",[t._v("配置前端项目中的配置文件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("server\n{\n    listen PORT;\n    server_name IP;\n    index index.php index.html index.htm default.php default.htm default.html;\n    root c:/btsoft/dist/dist;\n\n\t#START-ERROR-PAGE\n\t#error_page 403 /403.html;\n\terror_page 404 /404.html;\n    #error_page 502 /502.html;\n\t#END-ERROR-PAGE\n\n    #HTTP_TO_HTTPS_START\n    #HTTP_TO_HTTPS_END\n\n    #LIMIT_INFO_START\n    #LIMIT_INFO_END\n\n    #SSL-INFO-START\n    #SSL-INFO-END\n\n    #反代清理缓存配置\n    location ~ /purge(/.*) {\n        proxy_cache_purge cache_one $1$is_args$args;\n    }\n    #proxy 反向代理\n    include proxy/IP/*.conf;\n\n    #PHP-INFO-START\n    include php/00.conf;\n    #PHP-INFO-END\n\n    #REWRITE-START\n    include rewrite/IP/*.conf;\n    #REWRITE-END\n\n    #redirect 重定向\n    include redirect/IP/*.conf;\n\n    #禁止访问的文件或目录\n    location ~ ^/(\\.user.ini|\\.htaccess|\\.git|\\.svn|\\.project|LICENSE|README.md)\n    {\n        return 404;\n    }\n\n    #一键申请SSL证书验证目录相关设置\n    location ~ \\.well-known{\n        allow all;\n    }\n    \n    location / {\t# 访问路径配置\n\t\t\troot C:/path/to/dir/;# 根目录\n\t\t\ttry_files $uri $uri/ /index.html;\n\t\t\tindex index.html index.htm; # 默认首页\n\t}\n\t\t\t\t\n\tlocation /prod-api/ {\n\t\t\tproxy_set_header Host $http_host;\n\t\t\tproxy_set_header X-Real-IP $remote_addr;\n\t\t\tproxy_set_header REMOTE-HOST $remote_addr;\n\t\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n\t\t\tproxy_pass http://localhost:port/;\n\t}\n\n}\n\n")])])]),e("p",[t._v("修改后端配置文件中的ip地址为当前服务器的局域网地址")]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("宝塔添加新php项目nignx|报500错误")]),t._v(" "),e("p",[t._v("光改配置文件中的项目的目录没有用，还要更改项目配置中项目目录")])])])}),[],!1,null,null,null);n.default=o.exports}}]);