(window.webpackJsonp=window.webpackJsonp||[]).push([[312],{515:function(t,l,s){"use strict";s.r(l);var n=s(5),o=Object(n.a)({},(function(){var t=this,l=t.$createElement,s=t._self._c||l;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"binlog-mysql数据恢复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#binlog-mysql数据恢复"}},[t._v("#")]),t._v(" binlog|mysql数据恢复")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("开始之前问问自己")]),t._v(" "),s("p",[t._v("使用宝塔面板了吗？开启回收站了吗？回收站里有没有数据库文件?")]),t._v(" "),s("p",[t._v("mysql数据库文件还在吗？")]),t._v(" "),s("p",[t._v("开启binlog了吗？")]),t._v(" "),s("p",[t._v("有全量备份文件吗")]),t._v(" "),s("p",[t._v("有从上次全量备份到数据库出错之前的全部binlog文件吗")]),t._v(" "),s("p",[t._v("确定好了被恢复的binlog文件的开始和结束position了吗？ 一定要排除删库的范围，不然恢复半天又删库了")]),t._v(" "),s("p",[t._v("恢复binlog所用的mysql的版本号和生成binlog的mysql的版本号一致吗 版本号一位都不能差不然真的恢复不了，卡好几天不动那种。")]),t._v(" "),s("p",[t._v("恢复的时候  指定数据库名称了吗 ，指定名字恢复起来会快不少")])]),t._v(" "),s("p",[t._v("上述条件都满足的情况下，成功从全备份（20G）恢复到了删库前的（54G）。由于在此期间对数据库进行了大量的复制表复制库的操作，导致数据恢复足足花了两天。")]),t._v(" "),s("p",[t._v("推荐使用 xtrabackup 进行全库备份和增量备份，全备份20G数据库仅需7分钟且系统占用不超过20%，对高强度系统影响不大，恢复过程没有出过错，非常靠谱。mysql自带的mysqldump由于是免费的，非常慢而且容易出错最主要的是非常占用系统资源极其影响项目运行。")]),t._v(" "),s("p",[t._v("如果你的数据部署在linux上，直接参考官方教程即可")]),t._v(" "),s("p",[t._v("如果很不幸，你的项目和我一样由于历史原因部署在windows上，那么这个"),s("a",{attrs:{href:"https://frunoob.github.io/list/20230309152015.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程"),s("OutboundLink")],1),t._v("应该可以帮助你度过难关")])])}),[],!1,null,null,null);l.default=o.exports}}]);