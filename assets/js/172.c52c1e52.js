(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{381:function(o,t,e){"use strict";e.r(t);var c=e(5),v=Object(c.a)({},(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h1",{attrs:{id:"yt-dlp下载视频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yt-dlp下载视频"}},[o._v("#")]),o._v(" yt-dlp下载视频")]),o._v(" "),e("p",[e("strong",[o._v("将音频和视频下载后自动合并成mp4")]),e("br"),o._v(" "),e("code",[o._v('yt-dlp -f bv*+ba/b --merge-output-format mp4 -S "+codec:h264" -o 唐山打人事件.mp4 https://www.bilibili.com/video/BV1ja411s7zo?vd_source=b7d422e2d3cfe9dc114397c1cd2402c0')])]),o._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[o._v("没有画面，需要解码器hevc")]),o._v(" "),e("p",[e("code",[o._v('-S "+codec:h264"')]),o._v(" 使用h264编码器进行编码")])]),o._v(" "),e("p",[e("strong",[o._v("下载指定后缀的音频")]),e("br"),o._v(" "),e("code",[o._v("yt-dlp -f ba[ext=m4a] url")])]),o._v(" "),e("p",[e("strong",[o._v("下载不低于指定解码器的音视频格式")]),e("br"),o._v("\nDownload the best video with worst codec no worse than h264,"),e("br"),o._v("\nor the best video with best codec if there is no such video"),e("br"),o._v(" "),e("code",[o._v('$ yt-dlp -S "+codec:h264"')])]),o._v(" "),e("p",[e("strong",[o._v("使用代理")]),e("br"),o._v("\n使用参数"),e("code",[o._v("--proxy url:port")])]),o._v(" "),e("p",[e("strong",[o._v("下载音频")]),e("br"),o._v(" "),e("code",[o._v('yt-dlp.exe --proxy "127.0.0.1:7890" -f ba -S "+codec:h264" https://music.youtube.com/watch?v=Dyg_ZX2jp3o')])]),o._v(" "),e("p",[e("strong",[o._v("下载视频")]),e("br"),o._v(" "),e("code",[o._v('yt-dlp --proxy "127.0.0.1:7890" -f bv*+ba/b --merge-output-format mp4 -S "+codec:h264"')])]),o._v(" "),e("p",[e("strong",[o._v("下载会员视频")])]),o._v(" "),e("p",[o._v("前提是自己是会员才能下载")]),o._v(" "),e("p",[o._v("原理是获取youtube cookie并导入到文本文件中，使用yt-dlp在下载的同时使用cookie,完成身份认证")]),o._v(" "),e("ol",[e("li",[o._v("获取cookie")])]),o._v(" "),e("p",[o._v("这里用到一个"),e("a",{attrs:{href:"https://github.com/dandv/convert-chrome-cookies-to-netscape-format",target:"_blank",rel:"noopener noreferrer"}},[o._v("工具convert-chrome-cookies-to-netscape-format"),e("OutboundLink")],1),o._v("，可以方便的将浏览器中的cookie转换成标准格式")]),o._v(" "),e("p",[e("strong",[o._v("要求")])]),o._v(" "),e("ul",[e("li",[e("p",[o._v("终端/命令行窗口")])]),o._v(" "),e("li",[e("p",[o._v("node.js")])])]),o._v(" "),e("p",[e("strong",[o._v("使用方法")])]),o._v(" "),e("p",[o._v("下载脚本（如果愿意，也可以克隆此repo）")]),o._v(" "),e("p",[o._v("在编辑器中，打开一个新的空白文件")]),o._v(" "),e("p",[o._v("在Chrome/Chromium中，启动开发人员工具（F12）")]),o._v(" "),e("p",[o._v("导航到您需要cookie的网站，例如YouTube，然后登录。")]),o._v(" "),e("p",[o._v("前往应用程序->存储->Cookie\n对于Cookie下的每个URL（例如。https://www.youtube.com)，将cookie表复制到剪贴板中，然后将其粘贴到您在步骤2中打开的文件的末尾。")]),o._v(" "),e("p",[e("img",{attrs:{src:"https://github.com/dandv/convert-chrome-cookies-to-netscape-format/raw/master/chrome-cookies.png",alt:""}})]),o._v(" "),e("p",[o._v("使用类似file-with-cookies-copy-pasted-from-Chrome.txt的名称保存文件")]),o._v(" "),e("p",[o._v("运行脚本："),e("br"),o._v(" "),e("code",[o._v("node convert-cookies.js file-with-cookies-copy-pasted-from-Chrome.txt > netscape-cookies.txt")])]),o._v(" "),e("p",[o._v("现在，netscape-coookies.txt将包含可供任何以netscape格式读取cookie的应用程序使用的cookie（例如yotube-dl或curl）。")]),o._v(" "),e("p",[o._v("将转好的cookie文本放到命令行窗口打开的目录下，执行以下方法即可下载mp4格式视频")]),o._v(" "),e("p",[o._v("单个视频")]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v('yt-dlp --proxy "127.0.0.1:7890" -f bv*+ba/b --merge-output-format mp4 -S "+codec:h264" --cookies "cookies.txt"  https://www.youtube.com/xxxxxxxxxxxxx \n\n')])])]),e("p",[o._v("整个播放列表")]),o._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[o._v('yt-dlp --proxy "127.0.0.1:7890" -f bv*+ba/b --merge-output-format mp4 -S "+codec:h264" --cookies "cookies.txt"   --yes-playlist  https://www.youtube.com/xxxxxxxxxxxxx \n\n')])])])])}),[],!1,null,null,null);t.default=v.exports}}]);