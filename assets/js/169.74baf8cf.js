(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{368:function(t,s,n){"use strict";n.r(s);var a=n(5),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"检查网络并自动重连"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#检查网络并自动重连"}},[t._v("#")]),t._v(" 检查网络并自动重连")]),t._v(" "),n("p",[n("strong",[t._v("1.创建脚本")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#! /bin/bash\n\n#检测网络连接情况，如果网络异常则重新连接\n\nping -c 2 www.baidu.com > /dev/null 2>&1\nif [ $? -eq 0 ];then\n        echo 检测网络正常\nelse\n        netplan apply\nfi\n")])])]),n("p",[n("strong",[t._v("2.配置crontab文件")]),n("br"),t._v(" "),n("code",[t._v("sudo crontab -e")]),t._v("，紧接着在打开的文件最后一行中添加这样一句"),n("code",[t._v("* * * * * bash ~/auto-check.sh")]),t._v("，代表每分钟执行一次脚本")]),t._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[t._v("切记")]),t._v(" "),n("p",[t._v("自动化任务 配置文件 中包含的命令，或者配置文件中调用的命令所包含的路径 必须是绝对路径。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);