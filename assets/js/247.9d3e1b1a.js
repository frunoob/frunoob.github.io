(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{451:function(t,n,s){"use strict";s.r(n);var r=s(5),a=Object(r.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey},scopedSlots:t._u([{key:"password",fn:function(){return[s("p",[t._v("ssh -p 51357 frunoob@103.46.128.46")])]},proxy:!0}])},[s("h1",{attrs:{id:"花生壳内网穿透"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#花生壳内网穿透"}},[t._v("#")]),t._v(" 花生壳内网穿透")]),t._v(" "),s("password"),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("须知")]),t._v(" "),s("p",[t._v("目标主机: 局域网内的服务器主机 ubuntu server 22 TLS （192.168.10.6）")]),t._v(" "),s("p",[t._v("端口映射工具：360安全路由器")]),t._v(" "),s("p",[t._v("内网穿透服务：花生壳")]),t._v(" "),s("p",[t._v("如果不是从外网对内网进行访问，配置DDNS时无意义的。")]),t._v(" "),s("p",[t._v("需要搭配“端口映射”和“花生壳DDNS”功能实现内网穿透。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("文献")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://bbs.360.cn/thread-14653611-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("360社区-花生壳动态域名的介绍和操作方法-2015-4-11 14:32"),s("OutboundLink")],1)])]),t._v(" "),s("p",[s("strong",[t._v("内网穿透")])]),t._v(" "),s("p",[t._v("原理是端口映射，能够让外网访问到局域网主机。")]),t._v(" "),s("p",[s("strong",[t._v("DDNS")])]),t._v(" "),s("p",[s("strong",[t._v("尝试通过路由器实现内网穿透")])]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.oray.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("注册"),s("OutboundLink")],1),t._v("花生壳账户。")]),t._v(" "),s("li",[t._v("登录360安全路由器后台管理界面，\n点击“功能扩展”--“端口映射”，填写内网IP地址，及内外端口。")]),t._v(" "),s("li",[t._v("路由管理界面-“功能扩展”-“花生壳动态域名”，输入在花生壳注册的用户名和密码即可。")]),t._v(" "),s("li",[t._v("最后还要在花生壳管理平台-“内网穿透”-”新增映射“，成功新增了一个tcp协议的外网域名， 域名是注册时候自动提供的。")]),t._v(" "),s("li",[t._v("奈何我想使用ssh通过花生壳提供的域名连接局域网的主机，连接失败，放弃。")])]),t._v(" "),s("p",[s("strong",[t._v("换个思路，直接在目标主机服务器上安装花生壳客户端，进行端口映射设置及DDNS")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("文献")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://service.oray.com/question/11630.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("花生壳5.0 for Linux使用教程"),s("OutboundLink")],1)])]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://hsk.oray.com/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载"),s("OutboundLink")],1),t._v("花生壳客户端，ubuntu版本，并安装到ubuntu server上去。")]),t._v(" "),s("li",[t._v("安装完成之后，"),s("code",[t._v("sudo phddns status")]),t._v("查看SN码。")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("frunoob@frunoob:~$ sudo phddns status\n +--------------------------------------------------+\n |          Oray PeanutHull Linux 5.2.0             |\n +--------------------------------------------------+\n |              Runstatus: ONLINE                   |\n +--------------------------------------------------+\n |              SN: oray7c27f0b9e116                |\n +--------------------------------------------------+\n |    Remote Management Address http://b.oray.com   |\n +--------------------------------------------------+\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("浏览器访问http://b.oray.com ，输入花生壳Linux 5.0在安装时产生SN码与默认登录密码admin登录。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://console.hsk.oray.com/forward",target:"_blank",rel:"noopener noreferrer"}},[t._v("内网穿透"),s("OutboundLink")],1),t._v("，添加好自己的端口映射。\n根据页面提示填写映射所需的信息，这里以映射Ubuntu系统的SSH服务（22端口）为例：")])]),t._v(" "),s("p",[t._v("①应用名称：自定义")]),t._v(" "),s("p",[t._v("②应用图标：自行选择")]),t._v(" "),s("p",[t._v("③映射类型：选择TCP")]),t._v(" "),s("p",[t._v("④映射模板：暂不选择模板")]),t._v(" "),s("p",[t._v("⑤外网域名：选择用作外网访问的域名")]),t._v(" "),s("p",[t._v("⑥外网端口：选择动态端口")]),t._v(" "),s("p",[t._v("⑦内网主机：映射的Ubuntu系统内网IP地址")]),t._v(" "),s("p",[t._v("⑧内网端口：映射的服务类型对应端口22")]),t._v(" "),s("p",[t._v("⑨带宽：购买映射带宽后，可支持给映射分配额外带宽，这里保存默认。")]),t._v(" "),s("p",[t._v("确认映射内容无误后，点击“确定”。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://upload-cdn.orayimg.com/upload/help/2008/202008241842249656.png",alt:""}})]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("创建完成的映射，需要点击卡片左下角的检测，才看看是否成功。成功的话，结果应该如下：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("访问地址\n\ntcp://xxxxxxxxxx.zicp.vip:51357\n\n内网主机带宽\n\n192.168.10.6:22\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("映射诊断\n\n域名\n542tr854688.zicp.vip\n域名解析成功\n\n转发服务器IP\n103.11.111.45\n连接转发服务器成功\n\n域名IP地址指向\n103.11.111.45\n域名指向IP与服务器一致\n\n内网服务\n192.168.10.6:22\n内网服务连接成功\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("最后")])]),t._v(" "),s("p",[s("code",[t._v("ssh -p 51357 username@103.11.111.45")]),s("br"),t._v("\n连接成功！！！！！")])],1)}),[],!1,null,null,null);n.default=a.exports}}]);